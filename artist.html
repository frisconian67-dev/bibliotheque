<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Artiste</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      --bg:#0b0d12;
      --panel:#111522;
      --text:#e9edf5;
      --muted:#9aa4b2;
      --stroke:rgba(255,255,255,.08);
      --radius:18px;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
    }
    *{ box-sizing:border-box; }
    body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; background:radial-gradient(1200px 600px at 20% 0%, #121a2e 0%, var(--bg) 45%), var(--bg); color:var(--text); }
    a{ color:#6aa8ff; text-decoration:none; }
    .wrap{ max-width:980px; margin:0 auto; padding:18px 16px 28px; }
    .topbar{ display:flex; justify-content:space-between; align-items:center; margin-bottom:14px; }
    .btn{ padding:10px 12px; border-radius:12px; border:1px solid var(--stroke); background:rgba(255,255,255,.03); color:var(--text); cursor:pointer; }
    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02));
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    h1{ margin:0 0 12px; font-size:22px; }
    .row{
      display:flex; justify-content:space-between; gap:12px;
      padding:12px 14px;
      border-top:1px solid var(--stroke);
    }
    .row:first-child{ border-top:none; }
    .year{ color:var(--muted); min-width:48px; }
    .title{ flex:1; }
  /* ===== Mobile: rendu plus dense (moins "gros") ===== */
@media (max-width: 600px){

  header{ padding:12px 10px 8px; }
  .topline{ margin-bottom:10px; gap:10px; }
  .brand{ font-size:14px; }
  .badge{ font-size:11px; padding:5px 8px; }

  input{ padding:10px 12px; border-radius:12px; font-size:14px; }

  /* Grille: cartes plus petites */
  .grid{
    gap:10px;
    padding:10px;
    grid-template-columns: repeat(auto-fill, minmax(135px, 1fr));
  }

  .meta{ padding:10px 10px 12px; }

  .artist{
    font-size:13px;
    margin-bottom:4px;
  }

  .separator{ width:54px; margin:6px auto; }

  .title{ font-size:13px; margin:0 0 4px; }
  .year{ font-size:12px; margin-top:4px; }

  .stars{ font-size:16px; margin-top:6px; letter-spacing:1px; }

  /* Liseré un peu moins épais sur mobile */
  .card{ border-width:1px; }
}

  </style>
</head>
<body>
<div class="wrap">
  <div class="topbar">
    <button class="btn" onclick="location.href='index.html'">← Retour</button>
  </div>

  <h1 id="h"></h1>
  <div class="panel" id="list"></div>
</div>

<script>
const name = new URLSearchParams(location.search).get('name') || '';
document.getElementById('h').textContent = name;

fetch('data/export.json?v=' + Date.now())
.then(r=>r.json()).then(data=>{
  const list = document.getElementById('list');
  const items = (data.items || [])
    .filter(a=>a.artiste===name)
    .sort((a,b)=>(a.annee??0)-(b.annee??0));

  list.innerHTML = items.map(a=>`
    <div class="row">
      <div class="year">${a.annee ?? ''}</div>
      <div class="title"><a href="album.html?slug=${encodeURIComponent(a.slug)}">${a.titre}</a></div>
    </div>
  `).join('');
});
</script>
</body>
</html>
